<!DOCTYPE html>
<!-- saved from url=(0059)https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="PSR-15 Middleware in Minutes">  
    <link rel="canonical" href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/">
    <link rel="shortcut icon" href="https://docs.laminas.dev/img/trademark-laminas-foundation-rgb.svg">

    <title>Examples - mezzio - Laminas Docs</title>

    <style class="anchorjs"></style><link rel="stylesheet" href="./Examples - mezzio - Laminas Docs_files/styles.css">
    
        <link href="./Examples - mezzio - Laminas Docs_files/mezzio.css" rel="stylesheet">
    
</head>
<body id="page-top" class="mezzio" data-spy="scroll" data-target=".toc" data-offset="20">

    
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        
        <a class="logo-link navbar-brand" href="https://getlaminas.org/" data-tooltip="" data-placement="bottom" title="Go to the Laminas homepage">
            <img src="./Examples - mezzio - Laminas Docs_files/laminas-foundation-white.svg" height="28" alt="Laminas">
        </a>
        <a class="navbar-title" href="https://docs.laminas.dev/" data-tooltip="" data-placement="bottom" title="Go to the Laminas Documentation">
            Documentation
        </a>

        
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">

            
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <div class="dropdown sub-project-selector">
                        <a class="dropdown-toggle nav-link" data-toggle="dropdown" aria-expanded="false">
                            All Docs
                        </a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a href="https://docs.mezzio.dev/" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="./Examples - mezzio - Laminas Docs_files/laminas-mezzio-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>Mezzio</strong><br>
                                        PSR-15 Middleware in Minutes
                                    </div>
                                </div>
                            </a>
                            <a href="https://docs.laminas.dev/components/" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="./Examples - mezzio - Laminas Docs_files/laminas-components-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>Components</strong><br>
                                        Components for Enterprise Applications
                                    </div>
                                </div>
                            </a>
                            <a href="https://docs.laminas.dev/mvc" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="./Examples - mezzio - Laminas Docs_files/laminas-mvc-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>MVC</strong><br>
                                        MVC for Enterprise Applications
                                    </div>
                                </div>
                            </a>
                            <a href="https://api-tools.getlaminas.org/documentation" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="./Examples - mezzio - Laminas Docs_files/laminas-api-tools-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>API Tools</strong><br>
                                        Build RESTful APIs in Minutes
                                    </div>
                                </div>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item dropdown-item--secondardy" href="https://docs.laminas.dev/migration/">
                                <div class="row align-items-center">
                                    <div class="col-md-8 offset-md-4 col-sm-12">
                                        Migration to Laminas
                                    </div>
                                </div>
                            </a>
                            <a class="dropdown-item dropdown-item--secondardy" href="https://docs.laminas.dev/tutorials/">
                                <div class="row align-items-center">
                                    <div class="col-md-8 offset-md-4 col-sm-12">
                                        Tutorials
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="https://getlaminas.org/participate" class="nav-link">Community</a>
                </li>
            </ul>

            
            
                <div class="d-block d-sm-none">
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="https://docs.mezzio.dev/mezzio/">mezzio</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                

                    
                    
                
            

                
                

                    
                    
                
            

                
                
                    
                        
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/" class="subnavigation__link">Mezzio: PSR-7 Middleware in Minutes</a>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Getting Started</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/getting-started/features/" class="subnavigation__link">Overview and Features</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/getting-started/standalone/" class="subnavigation__link">Quick Start: Standalone</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/getting-started/skeleton/" class="subnavigation__link">Quick Start: Skeleton Installer</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Features</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/application/" class="subnavigation__link">Applications</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Containers</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/container/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/container/factories/" class="subnavigation__link">Container Factories</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/container/laminas-servicemanager/" class="subnavigation__link">Using laminas-servicemanager</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/container/pimple/" class="subnavigation__link">Using Pimple</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/container/aura-di/" class="subnavigation__link">Using Aura.Di</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Routing Adapters</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/interface/" class="subnavigation__link">Routing Interface</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/uri-generation/" class="subnavigation__link">URI Generation</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/piping/" class="subnavigation__link">Routing vs Piping</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/aura/" class="subnavigation__link">Using Aura</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/fast-route/" class="subnavigation__link">Using FastRoute</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/laminas-router/" class="subnavigation__link">Using the Laminas Router</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Templating</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/template/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/template/interface/" class="subnavigation__link">Template Renderer Interface</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/template/middleware/" class="subnavigation__link">Templated Middleware</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/template/plates/" class="subnavigation__link">Using Plates</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/template/twig/" class="subnavigation__link">Using Twig</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/template/laminas-view/" class="subnavigation__link">Using laminas-view</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/error-handling/" class="subnavigation__link">Error Handling</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Helpers</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/helpers/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/helpers/url-helper/" class="subnavigation__link">UrlHelper</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/helpers/server-url-helper/" class="subnavigation__link">ServerUrlHelper</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/helpers/body-parse/" class="subnavigation__link">Body Parsing Middleware</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/emitters/" class="subnavigation__link">Emitters</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Cookbook</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/common-prefix-for-routes/" class="subnavigation__link">Prepending a common path to all routes</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/route-specific-pipeline/" class="subnavigation__link">Route-specific middleware pipelines</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/custom-404-page-handling/" class="subnavigation__link">Setting custom 404 page handling</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/using-custom-view-helpers/" class="subnavigation__link">Registering custom view helpers when using laminas-view</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/using-laminas-form-view-helpers/" class="subnavigation__link">Using laminas-form view helpers</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/using-a-base-path/" class="subnavigation__link">Using Mezzio from a subdirectory</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/modular-layout/" class="subnavigation__link">Building modular applications</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/setting-locale-depending-routing-parameter/" class="subnavigation__link">Setting a locale based on a routing parameter</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/setting-locale-without-routing-parameter/" class="subnavigation__link">Setting a locale without a routing parameter</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/debug-toolbars/" class="subnavigation__link">Enabling debug toolbars</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/using-routed-middleware-class-as-controller/" class="subnavigation__link">Handling multiple routes in a single class</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/flash-messengers/" class="subnavigation__link">Flash Messengers</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Reference</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/why-mezzio/" class="subnavigation__link">Why choose Mezzio?</a>
    </li>

            
                
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/" class="subnavigation__link">Examples</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/reference/mezzio-projects/" class="subnavigation__link">Mezzio Projects</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Migration</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/reference/migration/rc-to-v1/" class="subnavigation__link">From RC5 and Earlier</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/reference/migration/to-v1-1/" class="subnavigation__link">To Mezzio 1.1</a>
    </li>

            
        </ul>
    </li>

            
        </ul>
    </li>

                    
                
            
        </ul>
    </div>

                </div>
            

            
            <div class="d-block d-sm-none">
                <div class="component-selector">
    
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <div class="choices" data-type="select-one" tabindex="0" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"><div class="choices__inner"><select class="form-control component-selector__control choices__input" hidden="" tabindex="-1" data-choice="active"><option value="https://docs.mezzio.dev/mezzio/" data-custom-properties="[object Object]">Mezzio&lt;br/&gt;&lt;span class="choices__packagename"&gt;mezzio&lt;/span&gt;</option></select><div class="choices__list choices__list--single"><div class="choices__item choices__item--selectable" data-item="" data-id="1" data-value="https://docs.mezzio.dev/mezzio/" data-custom-properties="[object Object]" aria-selected="true">Mezzio<br><span class="choices__packagename">mezzio</span></div></div></div><div class="choices__list choices__list--dropdown" aria-expanded="false"><input type="text" class="choices__input choices__input--cloned" autocomplete="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" aria-label="false" placeholder="Jump to package…"><div class="choices__list" role="listbox"><div id="choices--o52q-item-choice-1" class="choices__item choices__item--choice is-selected choices__item--selectable is-highlighted" role="option" data-choice="" data-id="1" data-value="https://docs.mezzio.dev/mezzio/" data-select-text="" data-choice-selectable="" aria-selected="true">Mezzio<br><span class="choices__packagename">mezzio</span></div><div id="choices--o52q-item-choice-2" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="2" data-value="https://docs.mezzio.dev/mezzio-csrf/" data-select-text="" data-choice-selectable="">CSRF<br><span class="choices__packagename">mezzio-csrf</span></div><div id="choices--o52q-item-choice-3" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="3" data-value="https://docs.mezzio.dev/mezzio-authentication/" data-select-text="" data-choice-selectable="">Authentication for Mezzio and PSR-7<br><span class="choices__packagename">mezzio-authentication</span></div><div id="choices--o52q-item-choice-4" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="4" data-value="https://docs.mezzio.dev/mezzio-authentication-basic/" data-select-text="" data-choice-selectable="">HTTP Basic Authentication for Mezzio and PSR-7<br><span class="choices__packagename">mezzio-authentication-basic</span></div><div id="choices--o52q-item-choice-5" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="5" data-value="https://docs.mezzio.dev/mezzio-authentication-session/" data-select-text="" data-choice-selectable="">Username/password authentication for mezzio-authentication<br><span class="choices__packagename">mezzio-authentication-session</span></div><div id="choices--o52q-item-choice-6" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="6" data-value="https://docs.mezzio.dev/mezzio-authentication-laminasauthentication/" data-select-text="" data-choice-selectable="">laminas-authentication integration for Mezzio<br><span class="choices__packagename">mezzio-authentication-laminasauthentication</span></div><div id="choices--o52q-item-choice-7" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="7" data-value="https://docs.mezzio.dev/mezzio-authorization/" data-select-text="" data-choice-selectable="">Authorization for Mezzio and PSR-7<br><span class="choices__packagename">mezzio-authorization</span></div><div id="choices--o52q-item-choice-8" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="8" data-value="https://docs.mezzio.dev/mezzio-authorization-acl/" data-select-text="" data-choice-selectable="">laminas-permissions-acl integration for Mezzio<br><span class="choices__packagename">mezzio-authorization-acl</span></div><div id="choices--o52q-item-choice-9" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="9" data-value="https://docs.mezzio.dev/mezzio-authorization-rbac/" data-select-text="" data-choice-selectable="">laminas-permissions-rbac integration for Mezzio<br><span class="choices__packagename">mezzio-authorization-rbac</span></div><div id="choices--o52q-item-choice-10" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="10" data-value="https://docs.mezzio.dev/mezzio-swoole/" data-select-text="" data-choice-selectable="">Swoole support for Mezzio<br><span class="choices__packagename">mezzio-swoole</span></div><div id="choices--o52q-item-choice-11" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="11" data-value="https://docs.mezzio.dev/mezzio-flash/" data-select-text="" data-choice-selectable="">Flash<br><span class="choices__packagename">mezzio-flash</span></div><div id="choices--o52q-item-choice-12" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="12" data-value="https://docs.mezzio.dev/mezzio-hal/" data-select-text="" data-choice-selectable="">HAL for PSR-7<br><span class="choices__packagename">mezzio-hal</span></div><div id="choices--o52q-item-choice-13" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="13" data-value="https://docs.mezzio.dev/mezzio-session/" data-select-text="" data-choice-selectable="">PSR-7 Sessions<br><span class="choices__packagename">mezzio-session</span></div><div id="choices--o52q-item-choice-14" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="14" data-value="https://docs.mezzio.dev/mezzio-session-cache/" data-select-text="" data-choice-selectable="">PSR-7 Sessions via PSR-6 Cache Item Pools<br><span class="choices__packagename">mezzio-session-cache</span></div><div id="choices--o52q-item-choice-15" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="15" data-value="https://docs.mezzio.dev/mezzio-session-ext/" data-select-text="" data-choice-selectable="">PSR-7 Sessions via ext-session<br><span class="choices__packagename">mezzio-session-ext</span></div><div id="choices--o52q-item-choice-16" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="16" data-value="https://docs.mezzio.dev/mezzio-problem-details/" data-select-text="" data-choice-selectable="">Problem Details<br><span class="choices__packagename">mezzio-problem-details</span></div><div id="choices--o52q-item-choice-17" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="17" data-value="https://docs.mezzio.dev/mezzio-cors/" data-select-text="" data-choice-selectable="">CORS<br><span class="choices__packagename">mezzio-cors</span></div></div></div></div>
</div>
            </div>
        </div>
    </div>
</nav>

    
    <header class="header">
    <div class="container">
        <div class="row">

            
            <div class="col-8">
                <h1 class="header__title">
                    Mezzio

                    
                        <small class="header__subtitle">mezzio</small>
                    
                </h1>
            </div>

            
            <div class="col-4 text-right">
                
                    
<div class="version-selector">
    <div class="btn-group">
        <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" data-display="static" aria-haspopup="true" aria-expanded="false" id="version-selector-dropdown">
            
                v1
            
        </button>
        <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left" aria-labelledby="version-selector-dropdown">
            
                
                    <a href="https://docs.mezzio.dev/mezzio/v3/" class="dropdown-item">
                        
                            v3 (latest)
                        
                    </a>
                
            
                
                    <a href="https://docs.mezzio.dev/mezzio/v2/" class="dropdown-item">
                        
                            v2
                        
                    </a>
                
            
                
                    <a href="https://docs.mezzio.dev/mezzio/v1/" class="dropdown-item active">
                        
                            v1
                        
                    </a>
                
            
        </div>
    </div>
</div>


                    <a href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#" class="header__link header__link--search" data-toggle="modal" data-target="#mkdocs_search_modal" title="Open search">
                        <i class="fa fa-search"></i> Search
                    </a>
                    <a href="https://github.com/mezzio/mezzio/" class="header__link header__link--github" title="Go to repository of mezzio">
                        <i class="fa fa-github"></i> GitHub
                    </a>
                
            </div>
        </div>
    </div>
</header>

    
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-sm-12 content" role="main">
                
                
                    
    

    
    
        <div class="toc">
            <h6 class="toc__headline">On this page</h6>
            <ul class="toc__list">
                
                    <li class="toc__entry">
                        <a href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#hello-world-using-a-container" class="toc__link nav-link">Hello World using a Container</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#hello-world-using-a-configuration-driven-container" class="toc__link nav-link">Hello World using a Configuration-Driven Container</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#hybrid-container-and-programmatic-creation" class="toc__link nav-link">Hybrid Container and Programmatic Creation</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#segregating-your-application-to-a-subpath" class="toc__link nav-link">Segregating your application to a subpath</a>
                    </li>
                
            </ul>
        </div>
    

                

                
                    <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        
            <li class="breadcrumb-item"><a href="https://docs.laminas.dev/">Overview</a></li>
            <li class="breadcrumb-item"><a href="https://docs.mezzio.dev/">Mezzio</a></li>

            
                <li class="breadcrumb-item"><a href="https://docs.mezzio.dev/mezzio/">mezzio</a></li>

                
                    
                        
                        
                    
                
                    
                        
                        
                            <li class="breadcrumb-item">Reference</li>
                        
                    
                

                <li class="breadcrumb-item active" aria-current="page">Examples</li>
            
        
    </ol>
</nav>



    <div class="alert alert-danger" role="alert">
        <h4>Caution</h4>
        <p>
            The documentation you are viewing is for an older version of this component.<br>
            <a href="https://docs.mezzio.dev/mezzio/">Switch to the latest (v3) version.</a>
        </p>
    </div>




    
    
        <h2 class="chapter__headline">Reference</h2>
    

    <h1 id="usage-examples"><a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#usage-examples" style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em; line-height: inherit; font-family: anchorjs-icons; position: absolute; margin-left: -1em; padding-right: 0.5em;"></a>Usage Examples</h1>
<p>Below are several usage examples, covering a variety of ways of creating and
managing an application.</p>
<p>In all examples, the assumption is the following directory structure:</p>
<pre class="highlight line-numbers language-text" tabindex="0"><code class="language-text">.
├── config
├── data
├── composer.json
├── public
│   └── index.php
├── src
└── vendor<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>We assume also that:</p>
<ul>
<li>You have installed mezzio per the <a href="https://docs.mezzio.dev/mezzio/v1/#installation">installation instructions</a>.</li>
<li><code>public/</code> will be the document root of your application.</li>
<li>Your own classes are under <code>src/</code> with the top-level namespace <code>Application</code>,
  and you have configured <a href="https://getcomposer.org/doc/01-basic-usage.md#autoloading">autoloading</a> in your <code>composer.json</code> for those classes.</li>
</ul>
<blockquote>
<h3 id="using-the-built-in-web-server">Using the built-in web server</h3>
<p>You can use the built-in web server to run the examples. Run:</p>
<pre class="highlight line-numbers language-bash" tabindex="0"><code class="language-bash">$ php -S <span class="token number">0.0</span>.0.0:8080 -t public<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>from the application root to start up a web server running on port 8080, and
then browse to http://localhost:8080/. If you used the Mezzio installer,
the following is equivalent:</p>
<pre class="highlight line-numbers language-bash" tabindex="0"><code class="language-bash">$ <span class="token function">composer</span> serve<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="setting-up-autoloading-for-the-application-namespace">Setting up autoloading for the Application namespace</h3>
<p>In your <code>composer.json</code> file, place the following:</p>
<pre class="highlight line-numbers language-javascript" tabindex="0"><code class="language-javascript"><span class="token string">"autoload"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"psr-4"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">"Application\\"</span><span class="token operator">:</span> <span class="token string">"src/"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Once done, run:</p>
<pre class="highlight line-numbers language-bash" tabindex="0"><code class="language-bash">$ <span class="token function">composer</span> dump-autoload<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<h3 id="routing"><a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#routing" style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em; line-height: inherit; font-family: anchorjs-icons; position: absolute; margin-left: -1em; padding-right: 0.5em;"></a>Routing</h3>
<p>As noted in the <a href="https://docs.mezzio.dev/mezzio/v1/features/application/#adding-routable-middleware">Application documentation</a>,
routing is abstracted and can be accomplished by calling any of the following
methods:</p>
<ul>
<li><code>route($path, $middleware, array $methods = null, $name = null)</code> to route to a
  path and match any HTTP method, multiple HTTP methods, or custom HTTP methods.</li>
<li><code>get($path, $middleware, $name = null)</code> to route to a path that will only
  respond to the GET HTTP method.</li>
<li><code>post($path, $middleware, $name = null)</code> to route to a path that will only
  respond to the POST HTTP method.</li>
<li><code>put($path, $middleware, $name = null)</code> to route to a path that will only
  respond to the PUT HTTP method.</li>
<li><code>patch($path, $middleware, $name = null)</code> to route to a path that will only
  respond to the PATCH HTTP method.</li>
<li><code>delete($path, $middleware, $name = null)</code> to route to a path that will only
  respond to the DELETE HTTP method.</li>
</ul>
<p>All methods return a <code>Mezzio\Router\Route</code> method, which allows you to
specify additional options to associate with the route (e.g., for specifying
criteria, default values to match, etc.).</p>
<p>As examples:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token comment">// GET</span>
<span class="token comment">// This demonstrates passing a callable middleware (assuming $helloWorld is</span>
<span class="token comment">// callable).</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/'</span><span class="token punctuation">,</span> <span class="token variable">$helloWorld</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// POST</span>
<span class="token comment">// This example specifies the middleware as a service name instead of as a</span>
<span class="token comment">// callable.</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/trackback'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'TrackBack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// PUT</span>
<span class="token comment">// This example shows operating on the returned route. In this case, it's adding</span>
<span class="token comment">// regex tokens to restrict what values for {id} will match. (The tokens feature</span>
<span class="token comment">// is specific to Aura.Router.)</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/post/{id}'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'ReplacePost'</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'tokens'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span> <span class="token string single-quoted-string">'id'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'\d+'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// PATCH</span>
<span class="token comment">// This example builds on the one above. Mezzio allows you to specify</span>
<span class="token comment">// the same path for a route matching on a different HTTP method, and</span>
<span class="token comment">// corresponding to different middleware.</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/post/{id}'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'UpdatePost'</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'tokens'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span> <span class="token string single-quoted-string">'id'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'\d+'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// DELETE</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/post/{id}'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'DeletePost'</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'tokens'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span> <span class="token string single-quoted-string">'id'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'\d+'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Matching ALL HTTP methods</span>
<span class="token comment">// If the underlying router supports matching any HTTP method, the following</span>
<span class="token comment">// will do so. Note: FastRoute *requires* you to specify the HTTP methods</span>
<span class="token comment">// allowed explicitly, and does not support wildcard routes. As such, the</span>
<span class="token comment">// following example maps to the combination of HEAD, OPTIONS, GET, POST, PATCH,</span>
<span class="token comment">// PUT, TRACE, and DELETE.</span>
<span class="token comment">// Just like the previous examples, it returns a Route instance that you can</span>
<span class="token comment">// further manipulate.</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/post/{id}'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'HandlePost'</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'tokens'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span> <span class="token string single-quoted-string">'id'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'\d+'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Matching multiple HTTP methods</span>
<span class="token comment">// You can pass an array of HTTP methods as a third argument to route(); in such</span>
<span class="token comment">// cases, routing will match if any of the specified HTTP methods are provided.</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/post'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'HandlePostCollection'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'GET'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Matching NO HTTP methods</span>
<span class="token comment">// Pass an empty array to the HTTP methods. HEAD and OPTIONS will still be</span>
<span class="token comment">// honored. (In FastRoute, GET is also honored.)</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/post'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'WillThisHandlePost'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Finally, if desired, you can create a <code>Mezzio\Router\Route</code> instance
manually and pass it to <code>route()</code> as the sole argument:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token variable">$route</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/post'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'HandlePost'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'GET'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$route</span><span class="token operator">-&gt;</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token variable">$options</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token variable">$route</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="hello-world-using-a-container"><a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#hello-world-using-a-container" style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em; line-height: inherit; font-family: anchorjs-icons; position: absolute; margin-left: -1em; padding-right: 0.5em;"></a>Hello World using a Container</h2>
<p>Mezzio works with <a href="https://github.com/container-interop/container-interop">container-interop</a>,
though it's an optional feature. By default, if you use the <code>AppFactory</code>, it
will use <a href="https://github.com/laminas/laminas-servicemanager">laminas-servicemanager</a>.</p>
<p>In the following example, we'll populate the container with our middleware, and
the application will pull it from there when matched.</p>
<p>Edit your <code>public/index.php</code> to read as follows:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token keyword">use</span> <span class="token package">Laminas<span class="token punctuation">\</span>Diactoros<span class="token punctuation">\</span>Response<span class="token punctuation">\</span>JsonResponse</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laminas<span class="token punctuation">\</span>ServiceManager<span class="token punctuation">\</span>ServiceManager</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Mezzio<span class="token punctuation">\</span>AppFactory</span><span class="token punctuation">;</span>

<span class="token keyword">require</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/../vendor/autoload.php'</span><span class="token punctuation">;</span>

<span class="token variable">$container</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServiceManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token function">setFactory</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'HelloWorld'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$req</span><span class="token punctuation">,</span> <span class="token variable">$res</span><span class="token punctuation">,</span> <span class="token variable">$next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$res</span><span class="token operator">-&gt;</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hello, world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token variable">$res</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token function">setFactory</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Ping'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$req</span><span class="token punctuation">,</span> <span class="token variable">$res</span><span class="token punctuation">,</span> <span class="token variable">$next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">JsonResponse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'ack'</span> <span class="token operator">=&gt;</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$app</span> <span class="token operator">=</span> <span class="token scope">AppFactory<span class="token punctuation">::</span></span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$container</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'HelloWorld'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/ping'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Ping'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">pipeRoutingMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">pipeDispatchMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>In the example above, we pass our container to <code>AppFactory</code>. We could have also
done this instead:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token variable">$app</span> <span class="token operator">=</span> <span class="token scope">AppFactory<span class="token punctuation">::</span></span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$container</span> <span class="token operator">=</span> <span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">getContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>and then added our service definitions. We recommend passing the container to
the factory instead; if we ever change which container we use by default, your
code might not work!</p>
<p>The following two lines are the ones of interest:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'HelloWorld'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/ping'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Ping'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>These map the two paths to <em>service names</em> instead of callables. When routing
matches a path, it does the following:</p>
<ul>
<li>If the middleware provided when defining the route is callable, it uses it
  directly.</li>
<li>If the middleware is a valid service name in the container, it pulls it from
  the container. <em>This is what happens in this example.</em></li>
<li>Finally, if no container is available, or the service name is not found in the
  container, it checks to see if it's a valid class name; if so, it instantiates
  and returns the class instance.</li>
</ul>
<p>If you fire up your web server, you'll find that the <code>/</code> and <code>/ping</code> paths
continue to work.</p>
<p>One other approach you could take would be to define the application itself in
the container, and then pull it from there:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token function">setFactory</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Mezzio\Application'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$app</span> <span class="token operator">=</span> <span class="token scope">AppFactory<span class="token punctuation">::</span></span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$container</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'HelloWorld'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/ping'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Ping'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$app</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$app</span> <span class="token operator">=</span> <span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Mezzio\Application'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>This is a nice way to encapsulate the application creation. You could then
potentially move all service configuration to another file! (We already
<a href="https://docs.mezzio.dev/mezzio/v1/features/container/factories/#applicationfactory">document an ApplicationFactory for exactly this scenario.</a>)</p>
<h2 id="hello-world-using-a-configuration-driven-container"><a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#hello-world-using-a-configuration-driven-container" style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em; line-height: inherit; font-family: anchorjs-icons; position: absolute; margin-left: -1em; padding-right: 0.5em;"></a>Hello World using a Configuration-Driven Container</h2>
<p>In the above example, we configured our middleware as services, and then passed
our service container to the application. At the end, we hinted that you could
potentially define the application itself as a service.</p>
<p>Mezzio already provides a service factory for the application instance
to provide fine-grained control over your application. In this example, we'll
leverage it, defining our routes via configuration.</p>
<p>First, we're going to leverage laminas-config to merge configuration files. This is
important, as it allows us to define local, environment-specific configuration
in files that we then can exclude from our repository. This practice ensures
that things like credentials are not accidentally published in a public
repository, and also provides a mechanism for slip-streaming in
configuration based on our environment (you might use different settings in
development than in production, after all!).</p>
<p>First, install laminas-config and laminas-stdlib:</p>
<pre class="highlight line-numbers language-bash" tabindex="0"><code class="language-bash">$ <span class="token function">composer</span> require laminas/laminas-config laminas/laminas-stdlib<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Now we can start creating our configuration files and container factories.</p>
<p>In <code>config/config.php</code>, place the following:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Laminas<span class="token punctuation">\</span>Stdlib<span class="token punctuation">\</span>ArrayUtils</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laminas<span class="token punctuation">\</span>Stdlib<span class="token punctuation">\</span>Glob</span><span class="token punctuation">;</span>

<span class="token variable">$config</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Load configuration from autoload path</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token scope">Glob<span class="token punctuation">::</span></span><span class="token function">glob</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'config/autoload/{{,*.}global,{,*.}local}.php'</span><span class="token punctuation">,</span> <span class="token scope">Glob<span class="token punctuation">::</span></span><span class="token constant">GLOB_BRACE</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token variable">$file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$config</span> <span class="token operator">=</span> <span class="token scope">ArrayUtils<span class="token punctuation">::</span></span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token variable">$config</span><span class="token punctuation">,</span> <span class="token keyword">include</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Return an ArrayObject so we can inject the config as a service in Aura.Di</span>
<span class="token comment">// and still use array checks like ``is_array``.</span>
<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayObject</span><span class="token punctuation">(</span><span class="token variable">$config</span><span class="token punctuation">,</span> <span class="token scope">ArrayObject<span class="token punctuation">::</span></span><span class="token constant">ARRAY_AS_PROPS</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>In <code>config/container.php</code>, place the following:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Laminas<span class="token punctuation">\</span>ServiceManager<span class="token punctuation">\</span>Config</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laminas<span class="token punctuation">\</span>ServiceManager<span class="token punctuation">\</span>ServiceManager</span><span class="token punctuation">;</span>

<span class="token comment">// Load configuration</span>
<span class="token variable">$config</span> <span class="token operator">=</span> <span class="token keyword">require</span> <span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/config.php'</span><span class="token punctuation">;</span>

<span class="token comment">// Build container</span>
<span class="token variable">$container</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServiceManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Config</span><span class="token punctuation">(</span><span class="token variable">$config</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'dependencies'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">configureServiceManager</span><span class="token punctuation">(</span><span class="token variable">$container</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Inject config</span>
<span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token function">setService</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">,</span> <span class="token variable">$config</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token variable">$container</span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>In <code>config/autoload/dependencies.global.php</code>, place the following:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Laminas<span class="token punctuation">\</span>ServiceManager<span class="token punctuation">\</span>Factory<span class="token punctuation">\</span>InvokableFactory</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'dependencies'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'invokables'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\</span>Application<span class="token punctuation">\</span>HelloWorldAction</span><span class="token operator">::</span><span class="token keyword">class</span> <span class="token operator">=&gt;</span> <span class="token scope">InvokableFactory<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span>
            <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\</span>Application<span class="token punctuation">\</span>PingAction</span><span class="token operator">::</span><span class="token keyword">class</span> <span class="token operator">=&gt;</span> <span class="token scope">InvokableFactory<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'factories'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\</span>Mezzio<span class="token punctuation">\</span>Application</span><span class="token operator">::</span><span class="token keyword">class</span> <span class="token operator">=&gt;</span> <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\</span>Mezzio<span class="token punctuation">\</span>Container<span class="token punctuation">\</span>ApplicationFactory</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>In <code>config/autoload/routes.global.php</code>, place the following:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'routes'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'path'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'/'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'middleware'</span> <span class="token operator">=&gt;</span> <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\</span>Application<span class="token punctuation">\</span>HelloWorldAction</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'allowed_methods'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span> <span class="token string single-quoted-string">'GET'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'path'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'/ping'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'middleware'</span> <span class="token operator">=&gt;</span> <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\</span>Application<span class="token punctuation">\</span>PingAction</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'allowed_methods'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span> <span class="token string single-quoted-string">'GET'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>In <code>src/Application/HelloWorld.php</code>, place the following:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">Application</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">HelloWorld</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__invoke</span><span class="token punctuation">(</span><span class="token variable">$req</span><span class="token punctuation">,</span> <span class="token variable">$res</span><span class="token punctuation">,</span> <span class="token variable">$next</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$res</span><span class="token operator">-&gt;</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hello, world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token variable">$res</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>In <code>src/Application/Ping.php</code>, place the following:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">Application</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Laminas<span class="token punctuation">\</span>Diactoros<span class="token punctuation">\</span>Response<span class="token punctuation">\</span>JsonResponse</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Ping</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__invoke</span><span class="token punctuation">(</span><span class="token variable">$req</span><span class="token punctuation">,</span> <span class="token variable">$res</span><span class="token punctuation">,</span> <span class="token variable">$next</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">JsonResponse</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'ack'</span> <span class="token operator">=&gt;</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>After that’s done run:</p>
<pre class="highlight line-numbers language-bash" tabindex="0"><code class="language-bash">$ <span class="token function">composer</span> dump-autoload<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Finally, in <code>public/index.php</code>, place the following:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token comment">// Change to the project root, to simplify resolving paths</span>
<span class="token function">chdir</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Setup autoloading</span>
<span class="token keyword">require</span> <span class="token string single-quoted-string">'vendor/autoload.php'</span><span class="token punctuation">;</span>

<span class="token variable">$container</span> <span class="token operator">=</span> <span class="token keyword">include</span> <span class="token string single-quoted-string">'config/services.php'</span><span class="token punctuation">;</span>
<span class="token variable">$app</span>       <span class="token operator">=</span> <span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token scope">Mezzio<span class="token punctuation">\</span>Application<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Notice that our index file now doesn't have any code related to setting up the
application any longer! All it does is setup autoloading, retrieve our service
container, pull the application from it, and run it. Our choices for container,
router, etc. are all abstracted, and if we change our mind later, this code will
continue to work.</p>
<p>Firing up the web server, you'll see the same responses as the previous
examples.</p>
<h2 id="hybrid-container-and-programmatic-creation"><a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#hybrid-container-and-programmatic-creation" style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em; line-height: inherit; font-family: anchorjs-icons; position: absolute; margin-left: -1em; padding-right: 0.5em;"></a>Hybrid Container and Programmatic Creation</h2>
<p>The above example may look a little daunting at first. By making everything
configuration-driven, you sometimes lose a sense for how the code all fits
together.</p>
<p>Fortunately, you can mix the two. Building on the example above, we'll add a new
route and middleware. Between pulling the application from the container and
calling <code>$app-&gt;run()</code>, add the following in your <code>public/index.php</code>:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/post'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$req</span><span class="token punctuation">,</span> <span class="token variable">$res</span><span class="token punctuation">,</span> <span class="token variable">$next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$res</span><span class="token operator">-&gt;</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IN POST!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$res</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>Note that we're using <code>post()</code> here; that means you'll have to use cURL, HTTPie,
Postman, or some other tool to test making a POST request to the path:</p>
<pre class="highlight line-numbers language-bash" tabindex="0"><code class="language-bash">$ <span class="token function">curl</span> -X POST http://localhost:8080/post<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>You should see <code>IN POST!</code> for the response!</p>
<p>Using this approach, you can build re-usable applications that are
container-driven, and add one-off routes and middleware as needed.</p>
<h3 id="using-the-container-to-register-middleware"><a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#using-the-container-to-register-middleware" style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em; line-height: inherit; font-family: anchorjs-icons; position: absolute; margin-left: -1em; padding-right: 0.5em;"></a>Using the container to register middleware</h3>
<p>If you use a container to fetch your application instance, you have an
additional option for specifying middleware for the pipeline: configuration:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'routes'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'path'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'/path/to/match'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'middleware'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Middleware Service Name or Callable'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'allowed_methods'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span> <span class="token string single-quoted-string">'GET'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'POST'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'PATCH'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'options'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'stuff'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'to'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'pass'</span>  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'to'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'the'</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'underlying router'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// etc.</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'middleware_pipeline'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token comment">// See specification below</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The key to note is <code>middleware_pipeline</code>, which is an array of middlewares to
register in the pipeline; each will each be <code>pipe()</code>'d to the Application in the
order specified.</p>
<p>Each middleware specified must be in the following form:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token punctuation">[</span>
    <span class="token comment">// required:</span>
    <span class="token string single-quoted-string">'middleware'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Name of middleware service, or a callable'</span><span class="token punctuation">,</span>
    <span class="token comment">// optional:</span>
    <span class="token string single-quoted-string">'path'</span>  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'/path/to/match'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'error'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'priority'</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// Integer</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Priority should be an integer, and follows the semantics of
<a href="http://php.net/SplPriorityQueue">SplPriorityQueue</a>: higher numbers indicate
higher priority (top of the queue; executed earliest), while lower numbers
indicated lower priority (bottom of the queue, executed last); <em>negative values
are low priority</em>. Items of the same priority are executed in the order in which
they are attached.</p>
<p>The default priority is 1, and this priority is used by the routing and dispatch
middleware. To indicate that middleware should execute <em>before</em> these, use a
priority higher than 1. For error middleware, use a priority less than 1.</p>
<p>The above specification can be used for all middleware, with one exception:
registration of the <em>routing</em> and/or <em>dispatch</em> middleware that Mezzio
provides. In these cases, use the following constants, which will be caught by
the factory and expanded:</p>
<ul>
<li><code>Mezzio\Container\ApplicationFactory::ROUTING_MIDDLEWARE</code> for the
  routing middleware; this should always come before the dispatch middleware.</li>
<li><code>Mezzio\Container\ApplicationFactory::DISPATCH_MIDDLEWARE</code> for the
  dispatch middleware.</li>
</ul>
<p>As an example:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'middleware_pipeline'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span> <span class="token comment">/* ... */</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token scope">Mezzio<span class="token punctuation">\</span>Container<span class="token punctuation">\</span>ApplicationFactory<span class="token punctuation">::</span></span><span class="token constant">ROUTING_MIDDLEWARE</span><span class="token punctuation">,</span>
        <span class="token scope">Mezzio<span class="token punctuation">\</span>Container<span class="token punctuation">\</span>ApplicationFactory<span class="token punctuation">::</span></span><span class="token constant">DISPATCH_MIDDLEWARE</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span> <span class="token comment">/* ... */</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<h4 id="place-routing-middleware-correctly">Place routing middleware correctly</h4>
<p>If you are defining routes <em>and</em> defining other middleware for the pipeline,
you <strong>must</strong> add the routing middleware. When you do so, make sure you put
it at the appropriate location in the pipeline.</p>
<p>Typically, you will place any middleware you want to execute on all requests
prior to the routing middleware. This includes utilities for bootstrapping
the application (such as injection of the <code>ServerUrlHelper</code>),
utilities for injecting common response headers (such as CORS support), etc.
Make sure these middleware specifications include the <code>priority</code> key, and that
the value of this key is greater than 1.</p>
<p>Place <em>error</em> middleware <em>after</em> the routing middleware. This is middleware
that should only execute if routing fails or routed middleware cannot complete
the response. These specifications should also include the <code>priority</code> key, and
the value of that key for such middleware should be less than 1 or negative.</p>
<p>Use priority to shape the specific workflow you want for your middleware.</p>
</blockquote>
<p>Middleware items may be any callable, <code>Laminas\Stratigility\MiddlewareInterface</code>
implementation, or a service name that resolves to one of the two. Additionally,
you can specify an array of such values; these will be composed in a single
<code>Laminas\Stratigility\MiddlewarePipe</code> instance, allowing layering of middleware.
In fact, you can specify the various <code>ApplicationFactory::*_MIDDLEWARE</code>
constants in such arrays as well:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'middleware_pipeline'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span> <span class="token comment">/* ... */</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'routing'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'middleware'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token scope">Mezzio<span class="token punctuation">\</span>Container<span class="token punctuation">\</span>ApplicationFactory<span class="token punctuation">::</span></span><span class="token constant">ROUTING_MIDDLEWARE</span><span class="token punctuation">,</span>
                <span class="token comment">/* ... middleware that introspects routing results ... */</span>
                <span class="token scope">Mezzio<span class="token punctuation">\</span>Container<span class="token punctuation">\</span>ApplicationFactory<span class="token punctuation">::</span></span><span class="token constant">DISPATCH_MIDDLEWARE</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'priority'</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span> <span class="token comment">/* ... */</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<h4 id="pipeline-keys-are-ignored">Pipeline keys are ignored</h4>
<p>Keys in a <code>middleware_pipeline</code> specification are ignored. However, they can
be useful when merging several configurations; if multiple configuration files
specify the same key, then those entries will be merged. Be aware, however,
that the <code>middleware</code> entry for each, since it is an indexed array, will
merge arrays by appending; in other words, order will not be guaranteed within
that array after merging. If order is critical, define a middleware spec with
<code>priority</code> keys.</p>
</blockquote>
<p>The path, if specified, can only be a literal path to match, and is typically
used for segregating middleware applications or applying rules to subsets of an
application that match a common path root.</p>
<p><code>error</code> indicates whether or not the middleware represents error middleware;
this is done to ensure that lazy-loading of error middleware works as expected.</p>
<blockquote>
<h4 id="lazy-loaded-middleware">Lazy-loaded Middleware</h4>
<p>One feature of the <code>middleware_pipeline</code> is that any middleware service pulled
from the container is actually wrapped in a closure:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token variable">$next</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$container</span><span class="token punctuation">,</span> <span class="token variable">$middleware</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$invokable</span> <span class="token operator">=</span> <span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$middleware</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">is_callable</span><span class="token punctuation">(</span><span class="token variable">$invokable</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified">Exception<span class="token punctuation">\</span>InvalidMiddlewareException</span><span class="token punctuation">(</span><span class="token function">sprintf</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">'Lazy-loaded middleware "%s" is not invokable'</span><span class="token punctuation">,</span>
            <span class="token variable">$middleware</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$invokable</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token variable">$next</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>If the <code>error</code> flag is specified and is truthy, the closure looks like this
instead, to ensure the middleware is treated by Stratigility as error
middleware:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$error</span><span class="token punctuation">,</span> <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token variable">$next</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$container</span><span class="token punctuation">,</span> <span class="token variable">$middleware</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$invokable</span> <span class="token operator">=</span> <span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$middleware</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">is_callable</span><span class="token punctuation">(</span><span class="token variable">$invokable</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified">Exception<span class="token punctuation">\</span>InvalidMiddlewareException</span><span class="token punctuation">(</span><span class="token function">sprintf</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">'Lazy-loaded middleware "%s" is not invokable'</span><span class="token punctuation">,</span>
            <span class="token variable">$middleware</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$invokable</span><span class="token punctuation">(</span><span class="token variable">$error</span><span class="token punctuation">,</span> <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token variable">$next</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>This implements <em>lazy-loading</em> for middleware pipeline services, delaying
retrieval from the container until the middleware is actually invoked.</p>
<p>This also means that if the service specified is not valid middleware, you
will not find out until the application attempts to invoke it.</p>
</blockquote>
<h2 id="segregating-your-application-to-a-subpath"><a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#segregating-your-application-to-a-subpath" style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em; line-height: inherit; font-family: anchorjs-icons; position: absolute; margin-left: -1em; padding-right: 0.5em;"></a>Segregating your application to a subpath</h2>
<p>One benefit of a middleware-based application is the ability to compose
middleware and segregate them by paths. <code>Mezzio\Application</code> is itself
middleware, allowing you to do exactly that if desired.</p>
<p>In the following example, we'll assume that <code>$api</code> and <code>$blog</code> are
<code>Mezzio\Application</code> instances, and compose them into a
<code>Laminas\Stratigility\MiddlewarePipe</code>.</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token keyword">use</span> <span class="token package">Laminas<span class="token punctuation">\</span>Diactoros<span class="token punctuation">\</span>Server</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laminas<span class="token punctuation">\</span>Diactoros<span class="token punctuation">\</span>ServerRequestFactory</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laminas<span class="token punctuation">\</span>Stratigility<span class="token punctuation">\</span>MiddlewarePipe</span><span class="token punctuation">;</span>

<span class="token keyword">require</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/../vendor/autoload.php'</span><span class="token punctuation">;</span>

<span class="token variable">$app</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MiddlewarePipe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/blog'</span><span class="token punctuation">,</span> <span class="token variable">$blog</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/api'</span><span class="token punctuation">,</span> <span class="token variable">$api</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$server</span> <span class="token operator">=</span> <span class="token scope">Server<span class="token punctuation">::</span></span><span class="token function">createServerFromRequest</span><span class="token punctuation">(</span>
    <span class="token variable">$app</span><span class="token punctuation">,</span>
    <span class="token scope">ServerRequestFactory<span class="token punctuation">::</span></span><span class="token function">fromGlobals</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$server</span><span class="token operator">-&gt;</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>You could also compose them in an <code>Application</code> instance, and utilize <code>run()</code>:</p>
<pre class="highlight line-numbers language-php" tabindex="0"><code class="language-php"><span class="token variable">$app</span> <span class="token operator">=</span> <span class="token scope">AppFactory<span class="token punctuation">::</span></span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/blog'</span><span class="token punctuation">,</span> <span class="token variable">$blog</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/api'</span><span class="token punctuation">,</span> <span class="token variable">$api</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>This approach allows you to develop discrete applications and compose them
together to create a website.</p>




    <nav>
    <ul class="page-nav hidden-print">

        
        <li class="page-nav__item">
            
                <a rel="prev" class="page-nav__link page-nav__link--prev" href="https://docs.mezzio.dev/mezzio/v1/why-mezzio/">
                    <i class="fa fa-chevron-left"></i> Previous
                </a>
            
        </li>

        
        <li class="page-nav__item">
            
                <a rel="next" class="page-nav__link page-nav__link--next" href="https://docs.mezzio.dev/mezzio/v1/reference/mezzio-projects/">
                    Next <i class="fa fa-chevron-right"></i>
                </a>
            
        </li>
    </ul>
</nav>




    <div class="help-wanted">
        <p>
            Found a mistake or want to contribute to the documentation?
            <a href="https://github.com/mezzio/mezzio/edit/master/docs/book/v1/reference/usage-examples.md" target="_blank" class="help-wanted__link">
                Edit this page on GitHub!
            </a>
        </p>
    </div>

                
            </div>
            <div class="col-md-3 col-sm-12 sidebar">
                <div class="donation-banner">
    <a href="https://getlaminas.org/support/">
        <h2>Donate</h2>
        <p>Support Laminas Developers Directly</p>
        <img src="./Examples - mezzio - Laminas Docs_files/cb-f-horizontal-white.svg">
    </a>
</div>

                
                    <div class="component-selector">
    
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <div class="choices" data-type="select-one" tabindex="0" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"><div class="choices__inner"><select class="form-control component-selector__control choices__input" hidden="" tabindex="-1" data-choice="active"><option value="https://docs.mezzio.dev/mezzio/" data-custom-properties="[object Object]">Mezzio&lt;br/&gt;&lt;span class="choices__packagename"&gt;mezzio&lt;/span&gt;</option></select><div class="choices__list choices__list--single"><div class="choices__item choices__item--selectable" data-item="" data-id="1" data-value="https://docs.mezzio.dev/mezzio/" data-custom-properties="[object Object]" aria-selected="true">Mezzio<br><span class="choices__packagename">mezzio</span></div></div></div><div class="choices__list choices__list--dropdown" aria-expanded="false"><input type="text" class="choices__input choices__input--cloned" autocomplete="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" aria-label="false" placeholder="Jump to package…"><div class="choices__list" role="listbox"><div id="choices--q5lh-item-choice-1" class="choices__item choices__item--choice is-selected choices__item--selectable is-highlighted" role="option" data-choice="" data-id="1" data-value="https://docs.mezzio.dev/mezzio/" data-select-text="" data-choice-selectable="" aria-selected="true">Mezzio<br><span class="choices__packagename">mezzio</span></div><div id="choices--q5lh-item-choice-2" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="2" data-value="https://docs.mezzio.dev/mezzio-csrf/" data-select-text="" data-choice-selectable="">CSRF<br><span class="choices__packagename">mezzio-csrf</span></div><div id="choices--q5lh-item-choice-3" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="3" data-value="https://docs.mezzio.dev/mezzio-authentication/" data-select-text="" data-choice-selectable="">Authentication for Mezzio and PSR-7<br><span class="choices__packagename">mezzio-authentication</span></div><div id="choices--q5lh-item-choice-4" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="4" data-value="https://docs.mezzio.dev/mezzio-authentication-basic/" data-select-text="" data-choice-selectable="">HTTP Basic Authentication for Mezzio and PSR-7<br><span class="choices__packagename">mezzio-authentication-basic</span></div><div id="choices--q5lh-item-choice-5" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="5" data-value="https://docs.mezzio.dev/mezzio-authentication-session/" data-select-text="" data-choice-selectable="">Username/password authentication for mezzio-authentication<br><span class="choices__packagename">mezzio-authentication-session</span></div><div id="choices--q5lh-item-choice-6" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="6" data-value="https://docs.mezzio.dev/mezzio-authentication-laminasauthentication/" data-select-text="" data-choice-selectable="">laminas-authentication integration for Mezzio<br><span class="choices__packagename">mezzio-authentication-laminasauthentication</span></div><div id="choices--q5lh-item-choice-7" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="7" data-value="https://docs.mezzio.dev/mezzio-authorization/" data-select-text="" data-choice-selectable="">Authorization for Mezzio and PSR-7<br><span class="choices__packagename">mezzio-authorization</span></div><div id="choices--q5lh-item-choice-8" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="8" data-value="https://docs.mezzio.dev/mezzio-authorization-acl/" data-select-text="" data-choice-selectable="">laminas-permissions-acl integration for Mezzio<br><span class="choices__packagename">mezzio-authorization-acl</span></div><div id="choices--q5lh-item-choice-9" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="9" data-value="https://docs.mezzio.dev/mezzio-authorization-rbac/" data-select-text="" data-choice-selectable="">laminas-permissions-rbac integration for Mezzio<br><span class="choices__packagename">mezzio-authorization-rbac</span></div><div id="choices--q5lh-item-choice-10" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="10" data-value="https://docs.mezzio.dev/mezzio-swoole/" data-select-text="" data-choice-selectable="">Swoole support for Mezzio<br><span class="choices__packagename">mezzio-swoole</span></div><div id="choices--q5lh-item-choice-11" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="11" data-value="https://docs.mezzio.dev/mezzio-flash/" data-select-text="" data-choice-selectable="">Flash<br><span class="choices__packagename">mezzio-flash</span></div><div id="choices--q5lh-item-choice-12" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="12" data-value="https://docs.mezzio.dev/mezzio-hal/" data-select-text="" data-choice-selectable="">HAL for PSR-7<br><span class="choices__packagename">mezzio-hal</span></div><div id="choices--q5lh-item-choice-13" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="13" data-value="https://docs.mezzio.dev/mezzio-session/" data-select-text="" data-choice-selectable="">PSR-7 Sessions<br><span class="choices__packagename">mezzio-session</span></div><div id="choices--q5lh-item-choice-14" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="14" data-value="https://docs.mezzio.dev/mezzio-session-cache/" data-select-text="" data-choice-selectable="">PSR-7 Sessions via PSR-6 Cache Item Pools<br><span class="choices__packagename">mezzio-session-cache</span></div><div id="choices--q5lh-item-choice-15" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="15" data-value="https://docs.mezzio.dev/mezzio-session-ext/" data-select-text="" data-choice-selectable="">PSR-7 Sessions via ext-session<br><span class="choices__packagename">mezzio-session-ext</span></div><div id="choices--q5lh-item-choice-16" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="16" data-value="https://docs.mezzio.dev/mezzio-problem-details/" data-select-text="" data-choice-selectable="">Problem Details<br><span class="choices__packagename">mezzio-problem-details</span></div><div id="choices--q5lh-item-choice-17" class="choices__item choices__item--choice choices__item--selectable" role="option" data-choice="" data-id="17" data-value="https://docs.mezzio.dev/mezzio-cors/" data-select-text="" data-choice-selectable="">CORS<br><span class="choices__packagename">mezzio-cors</span></div></div></div></div>
</div>
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="https://docs.mezzio.dev/mezzio/">mezzio</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                

                    
                    
                
            

                
                

                    
                    
                
            

                
                
                    
                        
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/" class="subnavigation__link">Mezzio: PSR-7 Middleware in Minutes</a>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Getting Started</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/getting-started/features/" class="subnavigation__link">Overview and Features</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/getting-started/standalone/" class="subnavigation__link">Quick Start: Standalone</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/getting-started/skeleton/" class="subnavigation__link">Quick Start: Skeleton Installer</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Features</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/application/" class="subnavigation__link">Applications</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Containers</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/container/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/container/factories/" class="subnavigation__link">Container Factories</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/container/laminas-servicemanager/" class="subnavigation__link">Using laminas-servicemanager</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/container/pimple/" class="subnavigation__link">Using Pimple</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/container/aura-di/" class="subnavigation__link">Using Aura.Di</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Routing Adapters</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/interface/" class="subnavigation__link">Routing Interface</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/uri-generation/" class="subnavigation__link">URI Generation</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/piping/" class="subnavigation__link">Routing vs Piping</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/aura/" class="subnavigation__link">Using Aura</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/fast-route/" class="subnavigation__link">Using FastRoute</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/router/laminas-router/" class="subnavigation__link">Using the Laminas Router</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Templating</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/template/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/template/interface/" class="subnavigation__link">Template Renderer Interface</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/template/middleware/" class="subnavigation__link">Templated Middleware</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/template/plates/" class="subnavigation__link">Using Plates</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/template/twig/" class="subnavigation__link">Using Twig</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/template/laminas-view/" class="subnavigation__link">Using laminas-view</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/error-handling/" class="subnavigation__link">Error Handling</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Helpers</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/helpers/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/helpers/url-helper/" class="subnavigation__link">UrlHelper</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/helpers/server-url-helper/" class="subnavigation__link">ServerUrlHelper</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/helpers/body-parse/" class="subnavigation__link">Body Parsing Middleware</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/features/emitters/" class="subnavigation__link">Emitters</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Cookbook</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/common-prefix-for-routes/" class="subnavigation__link">Prepending a common path to all routes</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/route-specific-pipeline/" class="subnavigation__link">Route-specific middleware pipelines</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/custom-404-page-handling/" class="subnavigation__link">Setting custom 404 page handling</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/using-custom-view-helpers/" class="subnavigation__link">Registering custom view helpers when using laminas-view</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/using-laminas-form-view-helpers/" class="subnavigation__link">Using laminas-form view helpers</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/using-a-base-path/" class="subnavigation__link">Using Mezzio from a subdirectory</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/modular-layout/" class="subnavigation__link">Building modular applications</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/setting-locale-depending-routing-parameter/" class="subnavigation__link">Setting a locale based on a routing parameter</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/setting-locale-without-routing-parameter/" class="subnavigation__link">Setting a locale without a routing parameter</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/debug-toolbars/" class="subnavigation__link">Enabling debug toolbars</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/using-routed-middleware-class-as-controller/" class="subnavigation__link">Handling multiple routes in a single class</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/cookbook/flash-messengers/" class="subnavigation__link">Flash Messengers</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Reference</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/why-mezzio/" class="subnavigation__link">Why choose Mezzio?</a>
    </li>

            
                
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/" class="subnavigation__link">Examples</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/reference/mezzio-projects/" class="subnavigation__link">Mezzio Projects</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Migration</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/reference/migration/rc-to-v1/" class="subnavigation__link">From RC5 and Earlier</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="https://docs.mezzio.dev/mezzio/v1/reference/migration/to-v1-1/" class="subnavigation__link">To Mezzio 1.1</a>
    </li>

            
        </ul>
    </li>

            
        </ul>
    </li>

                    
                
            
        </ul>
    </div>

                    
                
            </div>
        </div>
    </div>

    
    <footer class="footer">
    <div class="container">

        
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="https://docs.mezzio.dev/mezzio/v1/reference/usage-examples/#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <h5>Laminas</h5>
                <ul>
                    <li>Laminas Project <a href="https://getlaminas.org/">The new foundation for the community-supported, open source continuation of Zend Framework</a></li>
                    <li>Laminas Components and MVC <a href="https://docs.laminas.dev/">Components and MVC for enterprise applications</a></li>
                    <li>Mezzio <a href="https://docs.mezzio.dev/">PSR-15 middleware in minutes</a></li>
                    <li>Laminas API Tools <a href="https://api-tools.getlaminas.org/">Build RESTful APIs in minutes</a></li>
                </ul>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="row">

                    
                    <div class="col-md-4">
                        <h4 class="footer__headline">Support</h4>
                        <ul class="support__list">
                            <li class="support__list-item">
                                <a href="https://discourse.laminas.dev/" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://laminas.dev/chat" class="support__link" title="Chat"><i class="fa fa-slack"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://github.com/laminas" class="support__link" title="Github"><i class="fa fa-github"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://twitter.com/getlaminas" class="support__link" title="Twitter"><i class="fa fa-twitter"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://getlaminas.org/blog/rss.xml" class="support__link" title="Blog feed"><i class="fa fa-rss"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://getlaminas.org/security/feed" class="support__link" title="Security feed"><i class="fa fa-rss-square"></i></a>
                            </li>
                        </ul>
                    </div>

                    
                    <div class="col-md-4">
                        <h4 class="footer__headline">License</h4>
                        <p>
                            Code licensed under <a href="https://github.com/mezzio/mezzio/blob/master/LICENSE.md">BSD 3-Clause</a>.
                        </p>
                    </div>

                    
                    <div class="col-md-4">
                        <h4 class="footer__headline">Copyright</h4>
                        <p>
                            <!--Built with love by the Laminas team with the help of our
                            <a href="https://github.com/mezzio/mezzio/graphs/contributors">contributors</a>.<br>-->
                            © 2021 <a href="https://getlaminas.org/">Laminas Project</a> a Series of LF Projects, LLC.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

    <script>
        let base_url = '../../..',
            project  = "mezzio",
            siteName = 'mezzio';
    </script>
    <script src="./Examples - mezzio - Laminas Docs_files/scripts.js"></script>
    
        <script src="./Examples - mezzio - Laminas Docs_files/main.js"></script>
    

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Search</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
            </div>
            <div class="modal-body">
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search in mezzio" id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
        </div>
    </div>
</div>




</body></html>